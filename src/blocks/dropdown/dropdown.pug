include ../text-field/text-field.pug

mixin dropdown__item({ isItemsRoom, itemsList })
  each item in itemsList
    - let { value, text, tabindex } = item;
    - const buttonStateClass = value == 0 ? " dropdown__button--no-active" : "";
    li.dropdown__item
      p.dropdown__text= text
      .dropdown__wrapper-input
        if (isItemsRoom)
          button(
            class="dropdown__button js-dropdown__button js-dropdown__button js-dropdown__button--decrease dropdown__button--decrease" + buttonStateClass,
            type='button'
          ) -
          input.dropdown__input.js-dropdown__input(value=value, tabindex=tabindex)
          button.dropdown__button.dropdown__button--increase.js-dropdown__button.js-dropdown__button--increase(
            type='button'
          ) +
        else
          button(
            class="dropdown__button js-dropdown__button js-dropdown__button-people--decrease dropdown__button-people--decrease" + buttonStateClass,
            type='button'
          ) -
          input.dropdown__input.js-dropdown__input(value=value, tabindex=tabindex)
          button.dropdown__button.dropdown__button-people--increase.js-dropdown__button.js-dropdown__button-people--increase(
            type='button'
          ) +

mixin dropdown({ stateMenu, size, isButtonMenu, value, text, isItemsRoom, tabindex, state, className, id, myId, type, name, iconText, themeIcon, textState, isDropdown, itemsList })
  - const menuStateClass = stateMenu ? " dropdown__menu--" + stateMenu : "";
  - const dropdownSizeClass = size ? " dropdown--" + size : "";
  - const menuSizeClass = size ? " dropdown__menu--" + size : "";

  div(class="js-dropdown dropdown" + dropdownSizeClass)
    +text-field({ state, className, size, id, myId, type, value, name, tabindex, iconText, themeIcon, textState, isDropdown, text })
    ul(class="js-dropdown__menu dropdown__menu" + menuStateClass + menuSizeClass)
      +dropdown__item({ isItemsRoom, itemsList })
      if (isButtonMenu)
        .dropdown__wrapper-button-menu
          button.dropdown__button-menu.dropdown__button-menu--cleans.js-dropdown__button-menu--cleans очистить
          button.dropdown__button-menu.dropdown__button-menu--complete.js-dropdown__button-menu--complete применить
