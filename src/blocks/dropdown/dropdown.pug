include ../text-field/text-field.pug

mixin dropdown({ isOpenMenu, size, isButtonMenu, value, text, state, id, type, name, iconText, themeIcon, textState, isDropdown, itemsList, isHideButtonCleans, readonly = true, defaultValue, commonWord })
  -
    const buttonCleansHideClass = isHideButtonCleans ? 'dropdown__button-menu_hide' : '';
    let dropdownClass = '';
    let menuClass = '';
    let sizeSetting = ['small'];

    if(sizeSetting.includes(size)) dropdownClass += ' dropdown_' + size;
    if(sizeSetting.includes(size)) menuClass += ' dropdown__menu_' + size;
    if(isOpenMenu) menuClass += ' dropdown__menu_active';

  .dropdown.js-dropdown(
    class=dropdownClass,
    data-type=typeData,
    data-default-value=defaultValue,
    data-common-word=commonWord
  )
    +text-field({ isOpenMenu, size, id, type, value, name, iconText, themeIcon, textState, isDropdown, text, readonly })
    .dropdown__menu.js-dropdown__menu(class=menuClass)
      ul.dropdown__list
        each item in itemsList
          -
            let { value, text, name, declension } = item;
            let buttonDecreaseClass = '';
            if(value === "0") buttonDecreaseClass += " dropdown__button_no-active"

          li.dropdown__item.js-dropdown__item(data-declension=declension)
            p.dropdown__text= text
            .dropdown__wrapper-input
              button.dropdown__button.js-dropdown__button.dropdown__button_decrease.js-dropdown__button_decrease(
                class=buttonDecreaseClass,
                type='button'
              ) -
              input.dropdown__input.js-dropdown__input(value=value, name=name, readonly)
              button.dropdown__button.dropdown__button_increase.js-dropdown__button.js-dropdown__button_increase(
                type='button'
              ) +
      if (isButtonMenu)
        .dropdown__wrapper-button-menu
          button.dropdown__button-menu.dropdown__button-menu_cleans.js-dropdown__button-menu_cleans(
            class=buttonCleansHideClass,
            type='button'
          ) очистить
          button.dropdown__button-menu.dropdown__button-menu_complete.js-dropdown__button-menu_complete(
            type='button'
          ) применить
