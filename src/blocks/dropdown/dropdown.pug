include ../text-field/text-field.pug

mixin dropdown__item(object, itemsList)
  each item in itemsList
    - const state = item.value == 0 ? " dropdown__button--no-active" : "";
    .dropdown__item
      p.dropdown__text= item.text
      .dropdown__wrapper-input
        if (object.isItemsRoom)
          button(
            class="dropdown__button js-dropdown__button js-dropdown__button js-dropdown__button--decrease dropdown__button--decrease" + state,
            type='button'
          ) -
          input.dropdown__input.js-dropdown__input(value=item.value, tabindex=item.tabindex)
          button.dropdown__button.dropdown__button--increase.js-dropdown__button.js-dropdown__button--increase(
            type='button'
          ) +
        else
          button(
            class="dropdown__button js-dropdown__button js-dropdown__button-people--decrease dropdown__button-people--decrease" + state,
            type='button'
          ) -
          input.dropdown__input.js-dropdown__input(value=item.value, tabindex=item.tabindex)
          button.dropdown__button.dropdown__button-people--increase.js-dropdown__button.js-dropdown__button-people--increase(
            type='button'
          ) +

mixin dropdown(object, itemsList)
  - let { stateMenu, size } = object;
  - stateMenu = stateMenu ? " dropdown__menu--" + stateMenu : "";
  - const sizeDropdown = size ? " dropdown--" + size : "";
  - const sizeMenu = size ? " dropdown__menu--" + size : "";

  div(class="js-dropdown dropdown" + sizeDropdown)
    +text-field(object)
    div(class="js-dropdown__menu dropdown__menu" + stateMenu + sizeMenu)
      +dropdown__item(object, itemsList)
      if (object.isButtonMenu)
        .dropdown__wrapper-button-menu
          button.dropdown__button-menu.dropdown__button-menu--cleans.js-dropdown__button-menu--cleans очистить
          button.dropdown__button-menu.dropdown__button-menu--complete.js-dropdown__button-menu--complete применить
